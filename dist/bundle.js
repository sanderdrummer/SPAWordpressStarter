!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,exports,e){"use strict";function n(t){u.set(0),l.resetActive(),h.resetActive(),t.active=!0}e(11);var i=e(15),o=e(18),s=e(29),r=e(33),c=e(34),a=e(35),p=e(36),u=e(28),h=new o,l=new s,d=new r(c),f=new r(a),g=new i;new p;window.location.hash||(window.location.hash="#/"),g.register("/",function(t){n(d),d.getPage()}).register("/static",function(t){h.getpostList(t);n(f),f.getPage()}).register("/posts",function(t){t.category="all";var e=h.getpostList(t);n(e),e.getPosts(t)}).register("/posts/:category",function(t){var e=h.getpostList(t);n(e),e.getPosts(t)}).register("/post/:category/:id",function(t){var e=h.getpostList(t);e.getSinglePost(t)}).register("/page/:id",function(t){var e=l.getPageView(t);n(e),e.getPage(t)})},,,,,,,,,,,function(t,exports){},,,,function(t,exports,e){"use strict";var n=e(16),i=e(17),o=function(){function t(){var t=this;this.routes=[],this.findParam=new RegExp(":[a-zA-Z]*"),window.addEventListener("hashchange",function(){t.handleHashChange()}),document.addEventListener("DOMContentLoaded",function(){t.handleHashChange()})}return t.prototype.parseRouteUrl=function(t,e){var n=this.getMatchAndParamsOf(t,e.url);n.doesMatch&&e.callback(new i(n.params))},t.prototype.getMatchAndParamsOf=function(t,e){var n,i=this,o=e.split("/"),s=t.split("/"),r=!1,c={},a=[];return o.length===s.length&&(s.map(function(t,e){t===o[e]?a.push(!0):i.findParam.test(o[e])?(n=o[e].replace(":",""),c[n]=t):a.push(!1)}),r=a.reduce(function(t,e){return t&&e})),{params:c,doesMatch:r}},t.prototype.handleHashChange=function(){var t=this,e=window.location.hash.replace("#","");this.routes.forEach(function(n){t.parseRouteUrl(e,n)})},t.prototype.register=function(t,e){return this.routes.push(new n(t,e)),this},t}();t.exports=o},function(t,exports){"use strict";var e=function(){function t(t,e){this.url=t,this.callback=e}return t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(t){this.id=t.id||0,this.category=t.category||"",this.page=t.page||1}return t.prototype.getCacheKey=function(){return"page"+this.page.toString()+this.category.toString()+this.id.toString()},t}();t.exports=e},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(19),o=e(20),s=function(t){function e(){t.call(this)}return n(e,t),e.prototype.getpostList=function(t){var e;return this.collection[t.category]?this.collection[t.category]:(e=new o,this.collection[t.category]=e,e)},e}(i);t.exports=s},function(t,exports){"use strict";var e=function(){function t(){this.collection={}}return t.prototype.resetActive=function(){var t;for(t in this.collection)this.collection[t].active=!1},t}();t.exports=e},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(21),o=e(24),s=e(25),r=e(26),c=e(26),a=e(27),p=e(28),u=e(17),h=function(t){function e(){var e=this;t.call(this),this.page=1,this.pageCache={},this.template="",this.posts=[],this.api=new i,this.notDone=!0,this.leftPage=!0,this.params=new u({}),this.currentScrollPosition=p.get(),document.addEventListener("scroll",function(){e.notDone&&e.active&&e.viewHeight/2<window.pageYOffset&&e.appendOnScroll(e.params)})}return n(e,t),e.prototype.getPosts=function(t){this.params=t,this.leftPage&&this.viewElem.classList.add("loader"),this.templateCache&&!this.notDone?this.render(this.templateCache):this.getPostsBy(t),this.leftPage&&(p.set(this.currentScrollPosition),this.leftPage=!1)},e.prototype.getPostsBy=function(t){t=t||new u({}),t.page=t.page||1;var e=t.getCacheKey();this.pageCache[e]?(this.posts=this.pageCache[e],this.processTemplate()):this.fetchPostsByApi(t)},e.prototype.processTemplate=function(){this.compose(this.params.category),this.render(this.template),this.setTemplateCache(this.template),this.viewHeight=this.getHeight()},e.prototype.fetchPostsByApi=function(t){var e=this,n=t.getCacheKey();this.api.getPosts(t).then(function(t){return t.json()}).then(function(t){t.length?(e.createPostList(t),e.processTemplate(),e.pageCache[n]=e.posts):e.notDone=!1})},e.prototype.createPostList=function(t){for(var e,n=0,i=t.length;i>n;)e=t[n],e&&!this.getPostById(this.posts,e.id)&&this.posts.push(new o(e)),n+=1},e.prototype.sortList=function(){this.posts.sort(function(t,e){return e.id-t.id})},e.prototype.compose=function(t){this.sortList(),this.template=this.posts.map(function(e){return r(e,t)}).join("")},e.prototype.appendOnScroll=function(t){this.page+=1,t.page=this.page,this.getPosts(t)},e.prototype.filterPosts=function(t){console.log(t)},e.prototype.setTemplateCache=function(t){t&&!this.notDone&&(this.templateCache=t)},e.prototype.getSinglePost=function(t){this.currentScrollPosition=p.get(),this.leftPage=!0;var e=this.getPostById(this.posts,t.id);e.render(this.applyTemplate(e,t.category)),p.set(0)},e.prototype.applyTemplate=function(t,e){var n;switch(e){case"gigs":n=a(t,e);break;default:n=c(t,e)}return n},e.prototype.getPostById=function(t,e){var n;return t.forEach(function(t){t.id==e&&(n=t)}),n},e}(s);t.exports=h},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(22),o=function(t){function e(){t.call(this,"posts")}return n(e,t),e.prototype.getPosts=function(t){var e="";return t.category&&"all"!=t.category&&(t["filter[category_name]"]=t.category),this.get(t,e)},e}(i);t.exports=o},function(t,exports,e){"use strict";var n=e(23),i=function(){function t(t){this.baseUrl=n.APIURL+t,this.cache={}}return t.prototype.get=function(e,n){var i;return n=n||this.baseUrl,n=t.addParams(e,n),i=fetch(n)},t.addParams=function(t,e){var n,i="?";for(n in t)n&&t[n]&&(e+=i+n+"="+t[n],i="&");return e},t}();t.exports=i},function(t,exports){"use strict";t.exports={BASEURL:"http://localhost/wordpress/",APIURL:"/wordpress/wp-json/wp/v2/",VIEWELEM:"view",NAVELEM:"nav"}},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(25),o=function(t){function e(e){t.call(this),this.id=e&&e.id||0,this.title=e&&e.title&&e.title.rendered||"",this.content=e&&e.content&&e.content.rendered||"",this.excerpt=e&&e.excerpt&&e.excerpt.rendered||"",this.image=e&&e.featured_media||""}return n(e,t),e}(i);t.exports=o},function(t,exports,e){"use strict";var n=e(23),i=function(){function t(){this.viewElem=document.getElementById(n.VIEWELEM)}return t.prototype.render=function(t){this.viewElem.innerHTML=t,this.viewElem.classList.remove("loader")},t.prototype.getHeight=function(){return this.viewElem.getBoundingClientRect().height},t}();t.exports=i},function(t,exports){"use strict";t.exports=function(t,e){return'\n	<div id="post_'+t.id+'" class="box">\n		<div class="grid">\n			<div class="col-12">\n				<a href="#/post/'+e+"/"+t.id+'">\n				<h2 class="hug">\n					'+t.title+"\n				</h2>	\n				"+(t.image?"<img src="+t.image+">":"")+'\n				</a> \n			</div>\n		</div>\n		<div class="grid">\n			<div class="col-12">\n				'+t.excerpt+'\n				<a href="#/post/'+e+"/"+t.id+'">\n					mehr lesen\n				</a> \n			</div>\n		</div>\n	</div>\n	'}},function(t,exports){"use strict";t.exports=function(t,e){return'\n	<div id="post_'+t.id+'" class="cards-item">\n		<div>\n			<h2 class="hug">\n				'+t.title+'\n			</h2>	\n			<a href="#/post/'+e+"/"+t.id+'">\n			'+(t.image?"<img src="+t.image+">":"")+"\n			</a> \n		</div>\n				"+t.excerpt+'\n				<a href="#/post/'+e+"/"+t.id+'">\n					mehr lesen\n				</a> \n	</div>\n	'}},function(t,exports){"use strict";var e={get:function(){return document.documentElement.scrollTop||document.body.scrollTop},set:function(t){setTimeout(function(){scrollTo(0,t)},100)}};t.exports=e},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(19),o=e(30),s=function(t){function e(){t.call(this)}return n(e,t),e.prototype.getPageView=function(t){var e;return this.collection[t.id]?this.collection[t.id]:(e=new o,this.collection[t.id]=e,e)},e}(i);t.exports=s},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(31),o=e(32),s=e(25),r=function(t){function e(){t.call(this),this.templateString="",this.api=new i}return n(e,t),e.prototype.getPage=function(t){var e=this;this.viewElem.classList.add("loader"),this.cache?this.render(this.cache):this.api.getPage(t).then(function(t){return t.json()}).then(function(t){e.page=new o(t),e.templateString=e.applyTemplate(e.page),e.render(e.templateString),e.setCache()})},e.prototype.setCache=function(){this.templateString&&this.page.id&&(this.cache=this.templateString)},e.prototype.applyTemplate=function(t){var e='\n		<div id="page_'+t.id+'" class="box">\n			<div class="grid">\n				<div class="col-12">\n					<h2>'+t.title+'</h2>\n					<img src="'+t.image+'" alt="" />\n				</div>\n			</div>\n			<div class="grid center">\n				<div class="col-12">'+t.content+"</div>\n			</div>\n		</div>\n		";return e},e}(s);t.exports=r},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(22),o=function(t){function e(){t.call(this,"pages")}return n(e,t),e.prototype.getPage=function(t){var e;return t.id&&(e=this.baseUrl+"/"+t.id.toString(),delete t.id),this.get(t,e)},e}(i);t.exports=o},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(25),o=function(t){function e(e){t.call(this),this.id=e&&e.id||"",this.title=e&&e.title&&e.title.rendered||"",this.content=e&&e.content&&e.content.rendered||"",this.image=e&&e.featured_media||""}return n(e,t),e}(i);t.exports=o},function(t,exports,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=e(25),o=function(t){function e(e){t.call(this),this.template=e||""}return n(e,t),e.prototype.getPage=function(){this.render(this.template)},e}(i);t.exports=o},function(t,exports){"use strict";var e='\n	<div class="item box">\n		<h2 class="serif"><span class="icon-music"></span> ASD Home View</h2>\n		<p class="lead"> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores sed illo corporis deserunt iure tempore! Aut ut totam facere maiores eaque beatae autem error reiciendis vitae. Atque quas illum asperiores.</p>		\n		<p> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores sed illo corporis deserunt iure tempore! Aut ut totam facere maiores eaque beatae autem error reiciendis vitae. Atque quas illum asperiores.</p>		\n		<p> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores sed illo corporis deserunt iure tempore! Aut ut totam facere maiores eaque beatae autem error reiciendis vitae. Atque quas illum asperiores.</p>\n	</div>\n';t.exports=e},function(t,exports){"use strict";var e='\n	<div class="grid box">\n		<h1 class="serif">Static View</h1>\n		<p class="lead"> StaticLorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores sed illo corporis deserunt iure tempore! Aut ut totam facere maiores eaque beatae autem error reiciendis vitae. Atque quas illum asperiores.</p>	\n		SUPER STATIC VIEW TEMPLATE WUHU	\n\n	</div>\n';t.exports=e},function(t,exports,e){"use strict";var n=e(23),i=function(){function t(){var t=this;this.elem=document.getElementById(n.NAVELEM),this.toggle=this.elem.querySelector(".toggle"),this.toggle.addEventListener("click",function(){return t.toggleNav()})}return t.prototype.toggleNav=function(){this.elem.classList.toggle("inView")},t}();t.exports=i}]);
//# sourceMappingURL=bundle.js.map