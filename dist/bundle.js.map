{"version":3,"sources":["webpack:///webpack/bootstrap aab1bc578fdf5417c5e0","webpack:///./src/app.ts","webpack:///./src/router/router.ts","webpack:///./src/router/route.ts","webpack:///./src/components/post/postView.ts","webpack:///./src/components/post/postApi.ts","webpack:///./src/api/config.ts","webpack:///./src/components/post/post.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aab1bc578fdf5417c5e0\n **/","\"use strict\";\r\n// require('../style/main.less');\r\nvar Router = require('./router/router');\r\nvar PostView = require('./components/post/postView');\r\nconsole.log(PostView);\r\nvar postView = new PostView();\r\nRouter.register('/post', 'post', function (params) {\r\n    postView.render();\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.ts\n ** module id = 0\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = require('./route');\r\nvar routes = [];\r\nvar findParam = new RegExp(':[a-zA-Z]*');\r\n/**\r\n * Parse hash and url and check for matching\r\n *\r\n * @param  {string}   hash\r\n * @param  {Route}   route\r\n * @return {void}\r\n */\r\nfunction parseRouteUrl(hash, route) {\r\n    var result = getMatchAndParamsOf(hash, route.url);\r\n    if (result.doesMatch) {\r\n        route.callback(result.params);\r\n    }\r\n}\r\n/**\r\n * Checks if route matches hash\r\n * and parses params from hash\r\n *\r\n * @param  {string}   hash\r\n * @param  {string}   url\r\n * @return {Object}\r\n */\r\nfunction getMatchAndParamsOf(hash, url) {\r\n    var urlParts = url.split('/');\r\n    var hashParts = hash.split('/');\r\n    var doesMatch = false;\r\n    var params = {};\r\n    var allMatches = [];\r\n    var key;\r\n    // do both hash and url have the same size ?\r\n    // -> could match  \r\n    if (urlParts.length === hashParts.length) {\r\n        // check all parts of given hash for matching if \r\n        // a part is indentified to be a param it is ignored \r\n        // for matching but saved into params Object\r\n        hashParts.map(function (item, index) {\r\n            if (item === urlParts[index]) {\r\n                allMatches.push(true);\r\n            }\r\n            else if (findParam.test(urlParts[index])) {\r\n                // replace : indicator of param key\r\n                key = urlParts[index].replace(':', '');\r\n                params[key] = item;\r\n            }\r\n            else {\r\n                allMatches.push(false);\r\n            }\r\n        });\r\n        // reduce all matchings to one boolean\r\n        doesMatch = allMatches.reduce(function (a, b) {\r\n            return a && b;\r\n        });\r\n    }\r\n    // return doesMatch flag and parsed params\r\n    return {\r\n        params: params,\r\n        doesMatch: doesMatch\r\n    };\r\n}\r\n/**\r\n */\r\nfunction handleHashChange() {\r\n    var hash = window.location.hash.replace('#', '');\r\n    routes.forEach(function (route) {\r\n        parseRouteUrl(hash, route);\r\n    });\r\n}\r\n// Adds global eventlistener for routing on hashchange\r\nwindow.addEventListener('hashchange', handleHashChange);\r\n// special case for startup\r\ndocument.addEventListener(\"DOMContentLoaded\", handleHashChange);\r\nmodule.exports = {\r\n    register: function (url, title, callback) {\r\n        routes.push(new Route(url, title, callback));\r\n    }\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/router.ts\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = (function () {\r\n    function Route(url, title, callback) {\r\n        this.url = url;\r\n        this.title = title;\r\n        this.callback = callback;\r\n    }\r\n    return Route;\r\n}());\r\nmodule.exports = Route;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/route.ts\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\r\nvar PostApi = require('./postApi');\r\nvar Post = require('./post');\r\nvar template = \"\\n<div class=\\\"grid center\\\">\\n\\t<div class=\\\"col-5\\\">\" + this.title + \"</div>\\n</div>\\n<div class=\\\"grid center\\\">\\n\\t<div class=\\\"col-5\\\">\" + this.excerpt + \"</div>\\n\\t<div class=\\\"col-5\\\">\" + this.content + \"</div>\\n</div>\\n\";\r\nvar PostView = (function () {\r\n    function PostView(config) {\r\n        this.template = '';\r\n        this.posts = [];\r\n        this.api = new PostApi();\r\n        this.view = document.getElementById('view');\r\n    }\r\n    PostView.prototype.render = function () {\r\n        var _this = this;\r\n        // get posts\r\n        this.api.getPosts()\r\n            .then(function (res) {\r\n            return res.json();\r\n        })\r\n            .then(function (res) {\r\n            console.log(res);\r\n            _this.createPostList(res);\r\n            _this.compile();\r\n        });\r\n    };\r\n    PostView.prototype.createPostList = function (rawPosts) {\r\n        var index = 0;\r\n        var length = rawPosts.length;\r\n        var rawPost;\r\n        this.posts = [];\r\n        while (index < length) {\r\n            rawPost = rawPosts[index];\r\n            if (rawPost) {\r\n                this.posts.push(new Post({\r\n                    title: rawPost.title.rendered,\r\n                    content: rawPost.content.rendered,\r\n                    excerpt: rawPost.excerpt.rendered\r\n                }));\r\n            }\r\n            index += 1;\r\n        }\r\n    };\r\n    PostView.prototype.compile = function () {\r\n        var index = 0;\r\n        var length = this.posts.length;\r\n        while (index < length) {\r\n            console.log(index);\r\n            this.template += this.applyTemplate(this.posts[index]);\r\n            index += 1;\r\n        }\r\n        this.view.innerHTML = this.template;\r\n    };\r\n    PostView.prototype.applyTemplate = function (post) {\r\n        return \"\\n\\t\\t\\t<div class=\\\"grid center\\\">\\n\\t\\t\\t\\t<div class=\\\"col-5\\\">\" + post.title + \"</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"grid center\\\">\\n\\t\\t\\t\\t<div class=\\\"col-5\\\">\" + post.excerpt + \"</div>\\n\\t\\t\\t\\t<div class=\\\"col-5\\\">\" + post.content + \"</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t\";\r\n    };\r\n    return PostView;\r\n}());\r\nmodule.exports = PostView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/post/postView.ts\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ApiConfig = require('../../api/config');\r\nvar PostApi = (function () {\r\n    function PostApi() {\r\n        this.url = ApiConfig.APIURL + 'posts';\r\n    }\r\n    PostApi.prototype.getPosts = function () {\r\n        return fetch(this.url);\r\n    };\r\n    return PostApi;\r\n}());\r\nmodule.exports = PostApi;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/post/postApi.ts\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\r\nmodule.exports = {\r\n    BASEURL: 'http://localhost/wordpress/',\r\n    APIURL: 'wp-json/wp/v2/'\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/api/config.ts\n ** module id = 16\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Post = (function () {\r\n    function Post(config) {\r\n        this.title = config && config.title || '';\r\n        this.content = config && config.content || '';\r\n        this.excerpt = config && config.excerpt || '';\r\n    }\r\n    return Post;\r\n}());\r\nmodule.exports = Post;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/post/post.ts\n ** module id = 17\n ** module chunks = 0\n **/"],"sourceRoot":""}